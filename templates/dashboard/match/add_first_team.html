{% extends 'dashboard/base.html' %}

{% load thumbnail %}
{% load static %}
{% load my_tags %}

{% block content_main %}
	{% with match=squad.match club=squad.club players=squad.get_first_players av_players=squad.get_available_players %}
	<h6 class=" mt-2 text-center">Add First Team</h6>
	{% include 'fixture/partials/match_card.html' with match=match %}
	{% include 'users/partials/club_banner.html' with club=club %}
	<hr/>
	<div class="container-fluid p-1">
		{% include 'snippets/messages.html' %}
		<div class="mb-4 p-1 text-center rounded" style="background-color: darkgreen;">
			<h4> First team ({{ players|length }}) </h4>
			<hr class="mt-0"/>
			<div class="row overflow-auto mb-2" style="max-height: 40vh;">
				{% for player in players %}
					<div class="col-md-4 mb-3">
						<div class="d-flex align-content-center">
							{% include 'users/partials/player_card_small.html' with player=player %}
							<div>
								<form class="h-100" method="POST">
									{% include 'snippets/form_common.html' %}
									<input type="hidden" name="action" value="rm" />
									<input type="hidden" name="pk" value="{{ player.pk }}" />
									<button type="submit" class="btn btn-sm btn-danger h-100">-</button>
								</form>
							</div>
						</div>
					</div>
				{% endfor %}
			</div>
		</div>

		<div class="mb-4 p-1 text-center rounded" style="background-color: darkred;">
			<h4> Available Players ({{ av_players|length }}) </h4>
			<hr class="mt-0"/>
			<div class="row overflow-auto mb-2" style="max-height: 40vh;">
				{% for player in av_players %}
					<div class="col-md-4 mb-3">
						<div class="d-flex align-content-center">
							{% include 'users/partials/player_card_small.html' with player=player %}
							<div>
								<form class="h-100" method="POST">
									{% include 'snippets/form_common.html' %}
									<input type="hidden" name="action" value="add" />
									<input type="hidden" name="pk" value="{{ player.pk }}" />
									<button type="submit" class="btn btn-sm btn-success h-100">+</button>
								</form>
							</div>
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
	</div>
		<div class="d-flex justify-content-center">
			<a href="{% url 'dash:addsubteam' match=match.pk club=club.pk %}" class="btn btn-block btn-warning">Next</a>
		</div>
	{% endwith %}
{% endblock %}

