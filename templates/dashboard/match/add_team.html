{% extends 'dashboard/base.html' %}

{% load thumbnail %}
{% load static %}
{% load my_tags %}

{% block content_main %}
	{% include 'fixture/partials/match_card.html' with match=match %}
	{% include 'users/partials/club_banner.html' with club=club %}
	<h6 class=" mt-2 text-center">Add {{ squad.title }}</h6>
	<hr/>
	<div class="container-fluid p-1">
		<div class="mb-4 p-1 text-center rounded" style="background-color: darkgoldenrod;">
			{% with sqd=squad %}
			<h4> {{ sqd.title }} ({{ sqd.num_players }}) </h4>
			<div class="d-flex justify-content-center">
				<span class="badge badge-pill badge-{% if sqd.is_nU19 %}success{% else %}danger{% endif %}">U19 ({{ sqd.nU19 }})</span>
				<span class="badge badge-pill badge-{% if sqd.is_nU21 %}success{% else %}danger{% endif %}">U21 ({{ sqd.nU21 }})</span>
			</div>
			<hr class="mt-0"/>
			<div class="row overflow-auto mb-2" style="max-height: 40vh;">
				{% for player in sqd.players.all %}
					<div class="col-md-4 mb-3">
						<div class="d-flex align-content-center">
							{% include 'users/partials/player_card_small.html' with player=player %}
							<div>
								<form class="h-100" method="POST">
									{% include 'snippets/form_common.html' %}
									<input type="hidden" name="action" value="rm" />
									<input type="hidden" name="pk" value="{{ player.pk }}" />
									<button type="submit" class="btn btn-sm btn-danger h-100">-</button>
								</form>
							</div>
						</div>
					</div>
				{% endfor %}
			</div>
			{% endwith %}
		</div>

		<div class="mb-4 p-1 text-center rounded" style="background-color: darkred;">
			{% with sqd=squad_av %}
			<h4> {{ sqd.title }} ({{ sqd.num_players }}) </h4>
			<div class="d-flex justify-content-center">
				<span class="badge badge-pill badge-{% if sqd.is_nU19 %}success{% else %}danger{% endif %}">U19 ({{ sqd.nU19 }})</span>
				<span class="badge badge-pill badge-{% if sqd.is_nU21 %}success{% else %}danger{% endif %}">U21 ({{ sqd.nU21 }})</span>
			</div>
			<hr class="mt-0"/>
			{% include 'dashboard/match/players_table.html' with players=sqd.players.all %}
			{% endwith %}
		</div>

	</div>
	<div class="d-flex justify-content-around">
		{% if stepbackurl %}
			<a href="{{ stepbackurl }}" class="btn btn-lg btn-info"> Previous</a>
		{% endif %}
		{% if stepnexturl %}
		<a href="{{ stepnexturl }}" class="btn btn-lg btn-warning">Next </a>
		{% endif %}
	</div>
{% endblock %}


{% block scripts_extra %}
	<script>
$(document).ready(function() {
	$('#playersTable').DataTable({
		"ordering": false,
		"order":[],
		"pageLength": 5,
	});
});
	</script>
{% endblock %}
