{% load thumbnail %}

<div id="carouselExampleIndicators" class="carousel slide" data-interval="2000" data-ride="carousel">
	<ol class="carousel-indicators">
		{% for slide in slides %}	
		<li data-target="#carouselExampleIndicators" data-slide-to="{{ forloop.counter0 }}" {% if forloop.first %} class="active" {% endif %}></li>
		{% endfor %}
  </ol>
	<div class="carousel-inner">
		{% for slide in slides %}	
			<div class="carousel-item {% if forloop.first %} active {% endif %}" style="height:300px;">
				{% if slide.link %}<a class="m-auto" href="{{ slide.link }}" target="_blank">{% endif %}
					{% thumbnail slide.image "300x300" upscale=False as im %}
						<img class="m-auto d-block" src="{{ im.url }}" alt="">
					{% endthumbnail %}
					<div class="carousel-caption">
						<h5 class="{{ slide.caption_color }}">{{ slide.caption_head }}</h5>
						<p class="{{ slide.caption_color }}">{{ slide.caption_label }}</p>
					</div>
				{% if slide.link %}</a>{% endif %}
	  	</div>
		{% endfor %}
	</div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
